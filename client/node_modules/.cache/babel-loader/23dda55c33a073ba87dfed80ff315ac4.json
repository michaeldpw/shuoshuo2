{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{NavLink}from'react-router-dom';import{url}from'../url';import Img from'../components/Img';import Loader from'react-loader-spinner';axios.defaults.withCredentials=true;var UserPage=/*#__PURE__*/function(_React$Component){_inherits(UserPage,_React$Component);function UserPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,UserPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UserPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={avatar:null,username:null,code:'',loading:''};return _this;}_createClass(UserPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true},function(){axios.get(url+'/getsession').then(function(res){_this2.setState({code:res.data.code,username:res.data.username,avatar:res.data.avatar,loading:false});});});}},{key:\"render\",value:function render(){var url_username=this.props.match.params.username;return React.createElement(\"div\",{className:\"user-container\"},this.state.loading?React.createElement(Loader,{style:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin\":\"auto\"},type:\"ThreeDots\",color:\"#e87110\",height:\"100\",width:\"100\"}):this.state.username&&this.state.username==url_username?React.createElement(\"div\",{className:\"user-info\"},React.createElement(\"div\",{className:\"user-avatar\"},React.createElement(NavLink,{to:\"/setavatar/\"+this.state.username},React.createElement(Img,{style:{\"height\":\"100px\",\"width\":\"100px\",\"border-radius\":\"50px\"},src:url+\"/avatar/\"+this.state.username+'.jpg',alt:\"\"}))),React.createElement(\"p\",null,this.state.username)):React.createElement(\"h1\",null,\"Sorry \",url_username,\", you need to \",React.createElement(NavLink,{to:\"/signin\"},\"sign in\"),\".\"));}}]);return UserPage;}(React.Component);export default UserPage;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js"],"names":["React","axios","NavLink","url","Img","Loader","defaults","withCredentials","UserPage","state","avatar","username","code","loading","setState","get","then","res","data","url_username","props","match","params","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,GAAT,KAAoB,QAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACAJ,KAAK,CAACK,QAAN,CAAeC,eAAf,CAAiC,IAAjC,C,GAGMC,CAAAA,Q,mZAEFC,K,CAAQ,CACJC,MAAM,CAAE,IADJ,CAEJC,QAAQ,CAAE,IAFN,CAGJC,IAAI,CAAC,EAHD,CAIJC,OAAO,CAAE,EAJL,C,iGAOW,iBACf,KAAKC,QAAL,CAAc,CAACD,OAAO,CAAE,IAAV,CAAd,CAA+B,UAAM,CACjCZ,KAAK,CAACc,GAAN,CAAUZ,GAAG,CAAG,aAAhB,EAA+Ba,IAA/B,CAAoC,SAAAC,GAAG,CAAI,CACvC,MAAI,CAACH,QAAL,CAAc,CACVF,IAAI,CAAEK,GAAG,CAACC,IAAJ,CAASN,IADL,CAEVD,QAAQ,CAAEM,GAAG,CAACC,IAAJ,CAASP,QAFT,CAGVD,MAAM,CAAEO,GAAG,CAACC,IAAJ,CAASR,MAHP,CAIVG,OAAO,CAAE,KAJC,CAAd,EAMH,CAPD,EAQH,CATD,EAWH,C,uCAGO,CAEJ,GAAMM,CAAAA,YAAY,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBX,QAA7C,CAEA,MACI,4BAAK,SAAS,CAAC,gBAAf,EAEQ,KAAKF,KAAL,CAAWI,OAAX,CACA,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAC,UAAW,MAAZ,CAAoB,kBAAmB,QAAvC,CAAiD,SAAU,MAA3D,CAAf,CACI,IAAI,CAAC,WADT,CAEI,KAAK,CAAC,SAFV,CAGI,MAAM,CAAC,KAHX,CAII,KAAK,CAAC,KAJV,EADA,CAQC,KAAKJ,KAAL,CAAWE,QAAX,EAAuB,KAAKF,KAAL,CAAWE,QAAX,EAAuBQ,YAA9C,CACG,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACA,oBAAC,OAAD,EAAS,EAAE,CAAE,cAAgB,KAAKV,KAAL,CAAWE,QAAxC,EACI,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAC,SAAU,OAAX,CAAoB,QAAS,OAA7B,CAAsC,gBAAiB,MAAvD,CAAZ,CACQ,GAAG,CAAER,GAAG,CAAG,UAAN,CAAmB,KAAKM,KAAL,CAAWE,QAA9B,CAAyC,MADtD,CAEQ,GAAG,CAAC,EAFZ,EADJ,CADA,CADJ,CAQI,6BAAI,KAAKF,KAAL,CAAWE,QAAf,CARJ,CADH,CAaG,uCAAWQ,YAAX,kBAAsC,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,YAAtC,KAvBZ,CADJ,CA+BH,C,sBA3DkBnB,KAAK,CAACuB,S,EA8D7B,cAAef,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url'\nimport Img from '../components/Img'\nimport Loader from 'react-loader-spinner'\naxios.defaults.withCredentials = true;\n\n\nclass UserPage extends React.Component{\n\n    state = {\n        avatar: null,\n        username: null,\n        code:'',\n        loading: ''\n    }\n\n    componentDidMount(){ \n        this.setState({loading: true}, () => {\n            axios.get(url + '/getsession').then(res => {\n                this.setState({\n                    code: res.data.code,\n                    username: res.data.username,\n                    avatar: res.data.avatar,\n                    loading: false\n                })\n            })\n        })\n       \n    }\n\n\n    render(){\n\n        const url_username = this.props.match.params.username;\n\n        return (\n            <div className=\"user-container\">\n                {\n                    this.state.loading?\n                    <Loader style={{\"display\": \"flex\", \"justify-content\": \"center\", \"margin\": \"auto\"}}\n                        type=\"ThreeDots\" \n                        color=\"#e87110\" \n                        height=\"100\" \n                        width=\"100\" />\n                    :\n                    (\n                     this.state.username && this.state.username == url_username? \n                        <div className=\"user-info\">\n                            <div className=\"user-avatar\">\n                            <NavLink to={\"/setavatar/\" + this.state.username}>\n                                <Img style={{\"height\": \"100px\", \"width\": \"100px\", \"border-radius\": \"50px\"}} \n                                        src={url + \"/avatar/\" + this.state.username + '.jpg'} \n                                        alt=\"\"/>\n                            </NavLink>\n                            </div>\n                            <p>{this.state.username}</p>\n                            \n                        </div>\n                        :\n                        <h1>Sorry {url_username}, you need to <NavLink to=\"/signin\">sign in</NavLink>.</h1>\n                    )\n                }\n                \n               \n            </div>\n        )\n    }\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}