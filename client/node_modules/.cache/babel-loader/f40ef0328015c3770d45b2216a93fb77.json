{"ast":null,"code":"import _defineProperty from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{url,port}from'../url';axios.defaults.withCredentials=true;var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);function SignIn(){var _getPrototypeOf2;var _this;_classCallCheck(this,SignIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SignIn)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={un:'',pw:'',code:''};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var user={username:_this.state.un,password:_this.state.pw};console.log(user);console.log(url);axios.post(url+':'+port+'/checklogin',user).then(function(res){console.log(res.data);_this.setState({code:res.data.code});});};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var code=this.state.code;if(code=='1'){window.location='/';}return React.createElement(\"div\",{className:\"signin\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"span\",{className:\"input-group-addon\"},React.createElement(\"i\",{className:\"glyphicon glyphicon-user\"})),React.createElement(\"input\",{id:\"un\",type:\"text\",className:\"form-control\",onChange:this.handleChange,placeholder:\"Username\"})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"span\",{className:\"input-group-addon\"},React.createElement(\"i\",{className:\"glyphicon glyphicon-lock\"})),React.createElement(\"input\",{id:\"pw\",type:\"password\",className:\"form-control\",onChange:this.handleChange,placeholder:\"Password\"})),React.createElement(\"br\",null),this.state.code===\"-1\"?React.createElement(\"div\",{className:\"warning\"},\"Username does not exist!\"):null,this.state.code===\"-2\"?React.createElement(\"div\",{className:\"warning\"},\"Incorrect password!\"):null,React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary sub-btn\"},\"Log In\")));}}]);return SignIn;}(React.Component);export default SignIn;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/SignIn.js"],"names":["React","axios","url","port","defaults","withCredentials","SignIn","state","un","pw","code","handleChange","e","setState","target","id","value","handleSubmit","preventDefault","user","username","password","console","log","post","then","res","data","window","location","Component"],"mappings":"8vBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,CAAcC,IAAd,KAA0B,QAA1B,CAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,CAAiC,IAAjC,C,GAEMC,CAAAA,M,2YAEFC,K,CAAQ,CACJC,EAAE,CAAC,EADC,CAEJC,EAAE,CAAC,EAFC,CAGJC,IAAI,CAAC,EAHD,C,OAMRC,Y,CAAe,SAACC,CAAD,CAAO,CAClB,MAAKC,QAAL,oBACKD,CAAC,CAACE,MAAF,CAASC,EADd,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GAGH,C,OAEDC,Y,CAAe,SAACL,CAAD,CAAO,CAClBA,CAAC,CAACM,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CACTC,QAAQ,CAAE,MAAKb,KAAL,CAAWC,EADZ,CAETa,QAAQ,CAAE,MAAKd,KAAL,CAAWE,EAFZ,CAAb,CAIAa,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACAG,OAAO,CAACC,GAAR,CAAYrB,GAAZ,EACAD,KAAK,CAACuB,IAAN,CAAWtB,GAAG,CAAG,GAAN,CAAYC,IAAZ,CAAmB,aAA9B,CAA4CgB,IAA5C,EAAkDM,IAAlD,CAAuD,SAAAC,GAAG,CAAI,CAC1DJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EACA,MAAKd,QAAL,CAAc,CACVH,IAAI,CAAEgB,GAAG,CAACC,IAAJ,CAASjB,IADL,CAAd,EAGH,CALD,EAMH,C,yEAEO,CACJ,GAAMA,CAAAA,IAAI,CAAG,KAAKH,KAAL,CAAWG,IAAxB,CAEA,GAAGA,IAAI,EAAI,GAAX,CAAe,CACbkB,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CACD,MACI,4BAAK,SAAS,CAAC,QAAf,EACI,4BAAM,QAAQ,CAAE,KAAKZ,YAArB,EACX,2BAAK,SAAS,CAAC,aAAf,EACC,4BAAM,SAAS,CAAC,mBAAhB,EAAoC,yBAAG,SAAS,CAAC,0BAAb,EAApC,CADD,CAEC,6BAAO,EAAE,CAAC,IAAV,CACI,IAAI,CAAC,MADT,CAEC,SAAS,CAAC,cAFX,CAGC,QAAQ,CAAE,KAAKN,YAHhB,CAIC,WAAW,CAAC,UAJb,EAFD,CADW,CASV,8BATU,CAUX,2BAAK,SAAS,CAAC,aAAf,EACC,4BAAM,SAAS,CAAC,mBAAhB,EAAoC,yBAAG,SAAS,CAAC,0BAAb,EAApC,CADD,CAEC,6BAAO,EAAE,CAAC,IAAV,CACC,IAAI,CAAC,UADN,CAEC,SAAS,CAAC,cAFX,CAGC,QAAQ,CAAE,KAAKA,YAHhB,CAIC,WAAW,CAAC,UAJb,EAFD,CAVW,CAkBI,8BAlBJ,CAoBQ,KAAKJ,KAAL,CAAWG,IAAX,GAAoB,IAApB,CACA,2BAAK,SAAS,CAAC,SAAf,6BADA,CACyD,IArBjE,CAwBQ,KAAKH,KAAL,CAAWG,IAAX,GAAoB,IAApB,CACA,2BAAK,SAAS,CAAC,SAAf,wBADA,CACoD,IAzB5D,CA2BI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,yBAAhC,WA3BJ,CADJ,CADJ,CAkCH,C,oBAtEgBV,KAAK,CAAC8B,S,EAyE3B,cAAexB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { url, port } from '../url'\n\naxios.defaults.withCredentials = true;\n\nclass SignIn extends React.Component{\n\n    state = {\n        un:'',\n        pw:'',\n        code:''\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const user = {\n            username: this.state.un,\n            password: this.state.pw\n        }\n        console.log(user);\n        console.log(url);\n        axios.post(url + ':' + port + '/checklogin',user).then(res => {\n            console.log(res.data);\n            this.setState({\n                code: res.data.code\n            })    \n        });\n    }\n\n    render(){\n        const code = this.state.code;\n        \n        if(code == '1'){\n          window.location = '/'\n        } \n        return (\n            <div className=\"signin\">\n                <form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t<span className=\"input-group-addon\"><i className=\"glyphicon glyphicon-user\"></i></span>\n\t\t\t\t\t\t<input id=\"un\" \n\t\t\t\t\t\t    type=\"text\" \n\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tplaceholder=\"Username\" />\n    \t\t\t\t\t</div>\t\t\t  \t\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t<span className=\"input-group-addon\"><i className=\"glyphicon glyphicon-lock\"></i></span>\n\t\t\t\t\t\t<input id=\"pw\" \n\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tplaceholder=\"Password\" />\n\t\t\t\t\t</div>\n                    <br/>    \n                    {\n                        this.state.code === \"-1\"?\n                        <div className=\"warning\">Username does not exist!</div>: null\n                    }                    \n                    {\n                        this.state.code === \"-2\"?\n                        <div className=\"warning\">Incorrect password!</div>: null\n\t\t\t\t\t}\n                    <button type=\"submit\" className=\"btn btn-primary sub-btn\">Log In</button>                                       \n                </form>\n            </div>          \n            \n        )\n    }\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}