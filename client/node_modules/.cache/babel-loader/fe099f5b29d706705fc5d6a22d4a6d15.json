{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom';import App from'./App';import'./index.css';import{createStore,applyMiddleware}from'redux';import{Provider}from'react-redux';import thunk from'redux-thunk';import rootReducer from'../src/reducers';function saveToLocalStorage(state){try{var serializedState=JSON.stringify(state);localStorage.setItem('state',serializedState);}catch(e){console.log(e);}}function loadFromLocalStorage(){try{var serializedState=localStorage.getItem('state');if(serializedState===null)return undefined;return JSON.parse(serializedState);}catch(e){console.log(e);return undefined;}}var persistedState=loadFromLocalStorage();var store=createStore(rootReducer,persistedState,applyMiddleware(thunk));store.subscribe(function(){return saveToLocalStorage(store.getState());});ReactDOM.render(React.createElement(Provider,{store:store},React.createElement(App,null)),document.getElementById('root'));","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/index.js"],"names":["React","ReactDOM","App","createStore","applyMiddleware","Provider","thunk","rootReducer","saveToLocalStorage","state","serializedState","JSON","stringify","localStorage","setItem","e","console","log","loadFromLocalStorage","getItem","undefined","parse","persistedState","store","subscribe","getState","render","document","getElementById"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAO,aAAP,CACA,OAASC,WAAT,CAAsBC,eAAtB,KAA6C,OAA7C,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CAEA,QAASC,CAAAA,kBAAT,CAA4BC,KAA5B,CAAkC,CAC9B,GAAI,CACA,GAAMC,CAAAA,eAAe,CAAGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAxB,CACAI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,eAA9B,EACH,CAAC,MAAMK,CAAN,CAAS,CACPC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACH,CACJ,CAED,QAASG,CAAAA,oBAAT,EAAgC,CAC5B,GAAI,CACA,GAAMR,CAAAA,eAAe,CAAGG,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAxB,CACA,GAAIT,eAAe,GAAK,IAAxB,CAA8B,MAAOU,CAAAA,SAAP,CAC9B,MAAOT,CAAAA,IAAI,CAACU,KAAL,CAAWX,eAAX,CAAP,CACH,CAAC,MAAOK,CAAP,CAAU,CACRC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACA,MAAOK,CAAAA,SAAP,CACH,CACJ,CAED,GAAME,CAAAA,cAAc,CAAGJ,oBAAoB,EAA3C,CAEA,GAAIK,CAAAA,KAAK,CAAGpB,WAAW,CACnBI,WADmB,CAEnBe,cAFmB,CAGnBlB,eAAe,CAACE,KAAD,CAHI,CAAvB,CAMAiB,KAAK,CAACC,SAAN,CAAgB,iBAAMhB,CAAAA,kBAAkB,CAACe,KAAK,CAACE,QAAN,EAAD,CAAxB,EAAhB,EAEAxB,QAAQ,CAACyB,MAAT,CACI,oBAAC,QAAD,EAAU,KAAK,CAAEH,KAAjB,EACI,oBAAC,GAAD,MADJ,CADJ,CAGiBI,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAHjB","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../src/reducers'\n\nfunction saveToLocalStorage(state){\n    try {\n        const serializedState = JSON.stringify(state);\n        localStorage.setItem('state', serializedState)\n    } catch(e) {\n        console.log(e)\n    }\n}\n\nfunction loadFromLocalStorage() {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) return undefined;\n        return JSON.parse(serializedState);\n    } catch (e) {\n        console.log(e);\n        return undefined;\n    }\n}\n\nconst persistedState = loadFromLocalStorage();\n\nlet store = createStore(\n    rootReducer, \n    persistedState,\n    applyMiddleware(thunk)\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}