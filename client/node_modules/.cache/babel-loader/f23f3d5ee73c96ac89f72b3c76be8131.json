{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{url}from'../url';import{connect}from'react-redux';var Post=/*#__PURE__*/function(_React$Component){_inherits(Post,_React$Component);function Post(){var _getPrototypeOf2;var _this;_classCallCheck(this,Post);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Post)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={disabled:true,content:'',code:''};_this.handleChange=function(e){var length=e.target.value.length;if(length>0){_this.setState({disabled:false});}else{_this.setState({disabled:true});}_this.setState({content:e.target.value});};_this.handleSubmit=function(e){e.preventDefault();var post={content:_this.state.content,user:_this.props.auth.user};console.log(post);axios.post(url+'/dopost',post).then(function(res){_this.setState({code:res.data.code});console.log(_this.state.code);});window.location.reload();};return _this;}_createClass(Post,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"textarea\",{id:\"content\",cols:\"80\",rows:\"4\",className:\"form-control\",onChange:this.handleChange,required:true}),React.createElement(\"button\",{type:\"submit\",style:Object.assign({},styles.button,!this.state.disabled&&styles.buttonEnabled),disabled:this.state.disabled,onClick:this.handleSubmit},\"Post\"));}}]);return Post;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,null)(Post);var styles={input:{width:200,outline:'none',fontSize:20,padding:10,border:'none',backgroundColor:'#ddd',marginTop:10},button:{width:150,height:40,marginTop:\"10px\",border:'none',borderRadius:4,fontSize:20,cursor:'pointer',transition:'.25s all'},buttonEnabled:{backgroundColor:'#F98522',color:'#FFFFFF',width:220}};","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/Post.js"],"names":["React","axios","url","connect","Post","state","disabled","content","code","handleChange","e","length","target","value","setState","handleSubmit","preventDefault","post","user","props","auth","console","log","then","res","data","window","location","reload","Object","assign","styles","button","buttonEnabled","Component","mapStateToProps","input","width","outline","fontSize","padding","border","backgroundColor","marginTop","height","borderRadius","cursor","transition","color"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { url } from '../url'\nimport { connect } from 'react-redux'\n\nclass Post extends React.Component {\n\n    state = {\n        disabled: true,\n        content:'',\n        code:''\n    }\n\n    handleChange = (e) => {\n        const length = e.target.value.length;\n        if(length>0){\n            this.setState({\n                disabled: false\n            })\n        } else {\n            this.setState({\n                disabled: true\n            })\n        }\n        this.setState({\n            content: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const post = {\n            content: this.state.content,\n            user: this.props.auth.user\n        }\n        console.log(post);\n        axios.post(url + '/dopost',post).then(res => {\n            this.setState({\n                code: res.data.code\n            })    \n            console.log(this.state.code);\n        });\n        window.location.reload();\n    }\n\n    render(){\n        return (\n            <div>\n                <textarea id='content' \n                        cols='80' \n                        rows='4'\n                        className = \"form-control\"\n                        onChange={this.handleChange} required/>\n                 <button type=\"submit\" \n                        style={Object.assign({}, styles.button, !this.state.disabled && styles.buttonEnabled)}\n                        disabled={this.state.disabled}\n                        onClick={this.handleSubmit}>Post</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.auth\n    }\n}\n\nexport default connect(mapStateToProps, null)(Post);\n\nconst styles = {\n    input: {\n      width: 200,\n      outline: 'none',\n      fontSize: 20,\n      padding: 10,\n      border: 'none',\n      backgroundColor: '#ddd',\n      marginTop: 10,\n    },\n    button: {\n      width: 150,\n      height: 40,\n      marginTop: \"10px\",\n      border: 'none',\n      borderRadius: 4,\n      fontSize: 20,\n      cursor: 'pointer',\n      transition: '.25s all',\n    },\n    buttonEnabled: {\n      backgroundColor: '#F98522',\n      color: '#FFFFFF',\n      width: 220\n    }\n  }"]},"metadata":{},"sourceType":"module"}