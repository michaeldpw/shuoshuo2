{"ast":null,"code":"var _jsxFileName = \"/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/Post.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { url } from '../url';\nimport { connect } from 'react-redux';\n\nclass Post extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      disabled: true,\n      content: '',\n      code: ''\n    };\n\n    this.handleChange = e => {\n      const length = e.target.value.length;\n\n      if (length > 0) {\n        this.setState({\n          disabled: false\n        });\n      } else {\n        this.setState({\n          disabled: true\n        });\n      }\n\n      this.setState({\n        content: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const post = {\n        content: this.state.content,\n        user: this.props.auth.user\n      };\n      console.log(post);\n      axios.post(url + '/dopost', post).then(res => {\n        this.setState({\n          code: res.data.code\n        });\n        console.log(this.state.code);\n      });\n      window.location.reload();\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"content\",\n      cols: \"80\",\n      rows: \"4\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      style: Object.assign({}, styles.button, !this.state.disabled && styles.buttonEnabled),\n      disabled: this.state.disabled,\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Post\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, null)(Post);\nconst styles = {\n  input: {\n    width: 200,\n    outline: 'none',\n    fontSize: 20,\n    padding: 10,\n    border: 'none',\n    backgroundColor: '#ddd',\n    marginTop: 10\n  },\n  button: {\n    width: 150,\n    height: 40,\n    marginTop: \"10px\",\n    border: 'none',\n    borderRadius: 4,\n    fontSize: 20,\n    cursor: 'pointer',\n    transition: '.25s all'\n  },\n  buttonEnabled: {\n    backgroundColor: '#F98522',\n    color: '#FFFFFF',\n    width: 220\n  }\n};","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/Post.js"],"names":["React","axios","url","connect","Post","Component","state","disabled","content","code","handleChange","e","length","target","value","setState","handleSubmit","preventDefault","post","user","props","auth","console","log","then","res","data","window","location","reload","render","Object","assign","styles","button","buttonEnabled","mapStateToProps","input","width","outline","fontSize","padding","border","backgroundColor","marginTop","height","borderRadius","cursor","transition","color"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { url } from '../url'\nimport { connect } from 'react-redux'\n\nclass Post extends React.Component {\n\n    state = {\n        disabled: true,\n        content:'',\n        code:''\n    }\n\n    handleChange = (e) => {\n        const length = e.target.value.length;\n        if(length>0){\n            this.setState({\n                disabled: false\n            })\n        } else {\n            this.setState({\n                disabled: true\n            })\n        }\n        this.setState({\n            content: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const post = {\n            content: this.state.content,\n            user: this.props.auth.user\n        }\n        console.log(post);\n        axios.post(url + '/dopost',post).then(res => {\n            this.setState({\n                code: res.data.code\n            })    \n            console.log(this.state.code);\n        });\n        window.location.reload();\n    }\n\n    render(){\n        return (\n            <div>\n                <textarea id='content' \n                        cols='80' \n                        rows='4'\n                        className = \"form-control\"\n                        onChange={this.handleChange} required/>\n                 <button type=\"submit\" \n                        style={Object.assign({}, styles.button, !this.state.disabled && styles.buttonEnabled)}\n                        disabled={this.state.disabled}\n                        onClick={this.handleSubmit}>Post</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.auth\n    }\n}\n\nexport default connect(mapStateToProps, null)(Post);\n\nconst styles = {\n    input: {\n      width: 200,\n      outline: 'none',\n      fontSize: 20,\n      padding: 10,\n      border: 'none',\n      backgroundColor: '#ddd',\n      marginTop: 10,\n    },\n    button: {\n      width: 150,\n      height: 40,\n      marginTop: \"10px\",\n      border: 'none',\n      borderRadius: 4,\n      fontSize: 20,\n      cursor: 'pointer',\n      transition: '.25s all',\n    },\n    buttonEnabled: {\n      backgroundColor: '#F98522',\n      color: '#FFFFFF',\n      width: 220\n    }\n  }"]},"metadata":{},"sourceType":"module"}