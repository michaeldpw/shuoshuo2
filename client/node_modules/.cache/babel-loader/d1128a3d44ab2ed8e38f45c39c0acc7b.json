{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import Post from'./Post';import SignIn from'./SignIn';import{url,port}from'../url';import defaultAvatar from'./default.jpg';import Img from'./Img';var Jumbotron=/*#__PURE__*/function(_React$Component){_inherits(Jumbotron,_React$Component);function Jumbotron(){var _getPrototypeOf2;var _this;_classCallCheck(this,Jumbotron);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Jumbotron)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',sessioncode:'',avatar:'',show:true};_this.togglePanel=function(){_this.setState({show:!_this.state.show});};return _this;}_createClass(Jumbotron,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log('componentdidmount');axios.get(url+'/getsession').then(function(res){//console.log(res.data);\n_this2.setState({username:res.data.username,sessioncode:res.data.code,avatar:res.data.avatar});console.log(_this2.state);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:this.props.isShow},React.createElement(\"div\",{className:this.state.show?'jumbotron show':'jumbotron hide'},this.state.username?React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"user-panel\"},React.createElement(\"div\",{className:\"avatar\"},React.createElement(Img,{src:url+\"/avatar/\"+this.state.username+'.jpg',alt:\"\"}),React.createElement(\"p\",null,this.state.username)),React.createElement(\"div\",{className:\"col-lg-6 col-lg-offset-1\"},React.createElement(Post,{author:this.state.username})))):React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"user-panel\"},React.createElement(\"div\",{className:\"avatar\"},React.createElement(\"img\",{src:defaultAvatar,alt:\"\"}),React.createElement(\"span\",{className:\"hint\"},\"Please sign in\")),React.createElement(SignIn,null)))),React.createElement(\"div\",{onClick:this.togglePanel,className:\"collapse-header\"},this.state.show?React.createElement(\"span\",{onClick:this.togglePanel,style:{color:\"#cccccc\"},className:\"glyphicon glyphicon-menu-up\",\"aria-hidden\":\"true\"}):React.createElement(\"span\",{style:{color:\"#cccccc\"},className:\"glyphicon glyphicon-menu-hamburger\",\"aria-hidden\":\"true\"})));}}]);return Jumbotron;}(React.Component);export{Jumbotron as default};","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/Jumbotron.js"],"names":["React","axios","Post","SignIn","url","port","defaultAvatar","Img","Jumbotron","state","username","sessioncode","avatar","show","togglePanel","setState","console","log","get","then","res","data","code","props","isShow","color","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,GAAT,CAAcC,IAAd,KAA0B,QAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,eAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,C,GAEqBC,CAAAA,S,uZAEjBC,K,CAAQ,CACHC,QAAQ,CAAC,EADN,CAEHC,WAAW,CAAC,EAFT,CAGHC,MAAM,CAAC,EAHJ,CAIHC,IAAI,CAAE,IAJH,C,OAORC,W,CAAc,UAAM,CACtB,MAAKC,QAAL,CAAc,CACbF,IAAI,CAAE,CAAC,MAAKJ,KAAL,CAAWI,IADL,CAAd,EAGG,C,kGAEkB,iBACfG,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACAhB,KAAK,CAACiB,GAAN,CAAUd,GAAG,CAAG,aAAhB,EAA+Be,IAA/B,CAAoC,SAAAC,GAAG,CAAI,CACvC;AACA,MAAI,CAACL,QAAL,CAAc,CACVL,QAAQ,CAAEU,GAAG,CAACC,IAAJ,CAASX,QADT,CAEVC,WAAW,CAAES,GAAG,CAACC,IAAJ,CAASC,IAFZ,CAGVV,MAAM,CAAEQ,GAAG,CAACC,IAAJ,CAAST,MAHP,CAAd,EAKAI,OAAO,CAACC,GAAR,CAAY,MAAI,CAACR,KAAjB,EACH,CARD,EASH,C,uCAEO,CACJ,MACI,4BAAK,SAAS,CAAE,KAAKc,KAAL,CAAWC,MAA3B,EACE,2BAAK,SAAS,CAAE,KAAKf,KAAL,CAAWI,IAAX,CAAiB,gBAAjB,CAAoC,gBAApD,EAEM,KAAKJ,KAAL,CAAWC,QAAX,CACA,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,QAAf,EACI,oBAAC,GAAD,EAAK,GAAG,CAAEN,GAAG,CAAG,UAAN,CAAmB,KAAKK,KAAL,CAAWC,QAA9B,CAAyC,MAAnD,CAA2D,GAAG,CAAC,EAA/D,EADJ,CAGI,6BAAI,KAAKD,KAAL,CAAWC,QAAf,CAHJ,CADJ,CAMI,2BAAK,SAAS,CAAC,0BAAf,EACI,oBAAC,IAAD,EAAM,MAAM,CAAE,KAAKD,KAAL,CAAWC,QAAzB,EADJ,CANJ,CADJ,CADA,CAcA,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,QAAf,EACI,2BAAK,GAAG,CAAEJ,aAAV,CAAyB,GAAG,CAAC,EAA7B,EADJ,CAEI,4BAAM,SAAS,CAAC,MAAhB,mBAFJ,CADJ,CAKG,oBAAC,MAAD,MALH,CADJ,CAhBN,CADF,CA6BE,2BAAK,OAAO,CAAE,KAAKQ,WAAnB,CAAgC,SAAS,CAAC,iBAA1C,EAEU,KAAKL,KAAL,CAAWI,IAAX,CAAiB,4BAAO,OAAO,CAAE,KAAKC,WAArB,CAAkC,KAAK,CAAE,CAACW,KAAK,CAAC,SAAP,CAAzC,CAA2D,SAAS,CAAC,6BAArE,CAAmG,cAAY,MAA/G,EAAjB,CAEA,4BAAO,KAAK,CAAE,CAACA,KAAK,CAAC,SAAP,CAAd,CAAgC,SAAS,CAAC,oCAA1C,CAA+E,cAAY,MAA3F,EAJV,CA7BF,CADJ,CAuCH,C,uBApEkCzB,KAAK,CAAC0B,S,SAAxBlB,S","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport Post from './Post'\nimport SignIn from './SignIn';\nimport { url, port } from '../url'\nimport defaultAvatar from './default.jpg'\nimport Img from './Img'\n\nexport default class Jumbotron extends React.Component{\n\n    state = {\n         username:'',\n         sessioncode:'',\n         avatar:'',\n         show: true\n    }\n\n    togglePanel = () => {\n\t\tthis.setState({\n\t\t\tshow: !this.state.show\n\t\t})\n    }\n\n    componentDidMount(){\n        console.log('componentdidmount');\n        axios.get(url + '/getsession').then(res => {\n            //console.log(res.data);\n            this.setState({\n                username: res.data.username,\n                sessioncode: res.data.code,\n                avatar: res.data.avatar\n            })\n            console.log(this.state);\n        })\n    }\n\n    render(){\n        return (\n            <div className={this.props.isShow}>\n              <div className={this.state.show? 'jumbotron show' : 'jumbotron hide'}>\n                { \n                    this.state.username? \n                    <div className=\"container\">\n                        <div className=\"user-panel\">\n                            <div className=\"avatar\">\n                                <Img src={url + \"/avatar/\" + this.state.username + '.jpg'} alt=\"\"/>\n                                {/* <img src={\"/avatar/\" + this.state.avatar + '.jpg'} alt=\"\"/> */}\n                                <p>{this.state.username}</p>\n                            </div>\n                            <div className=\"col-lg-6 col-lg-offset-1\">\n                                <Post author={this.state.username}/>\n                            </div>\n                        </div>                       \n                    </div>\n                    :\n                    <div className=\"container\">\n                        <div className=\"user-panel\">\n                            <div className=\"avatar\">\n                                <img src={defaultAvatar} alt=\"\"/>\n                                <span className=\"hint\">Please sign in</span>\n                            </div>\n                           <SignIn/>\n                        </div>           \n                    </div>   \n                }\n               \n              </div> \n              <div onClick={this.togglePanel} className='collapse-header'>\n                    {\n                        this.state.show? <span  onClick={this.togglePanel} style={{color:\"#cccccc\"}}className=\"glyphicon glyphicon-menu-up\" aria-hidden=\"true\"></span>\n                        :\n                        <span  style={{color:\"#cccccc\"}}className=\"glyphicon glyphicon-menu-hamburger\" aria-hidden=\"true\"></span>\n                    }\n              </div>\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}