{"ast":null,"code":"var _jsxFileName = \"/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url, port } from '../url';\naxios.defaults.withCredentials = true;\n\nclass UserPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avatar: null,\n      username: null,\n      code: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/getsession').then(res => {\n      this.setState({\n        code: res.data.code,\n        username: res.data.username,\n        avatar: res.data.avatar\n      });\n      console.log(this.state);\n    });\n  }\n\n  render() {\n    const url_username = this.props.match.params.username;\n    return React.createElement(\"div\", {\n      className: \"user-container container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.state.username && this.state.username == url_username ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/setavatar/\" + this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: url + ':' + port + \"/avatar/\" + this.state.avatar + '.jpg',\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    })), this.state.username) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Sorry \", url_username, \", you need to \", React.createElement(NavLink, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"sign in\"), \".\"));\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js"],"names":["React","axios","NavLink","url","port","defaults","withCredentials","UserPage","Component","state","avatar","username","code","componentDidMount","get","then","res","setState","data","console","log","render","url_username","props","match","params"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,GAAT,EAAcC,IAAd,QAAyB,QAAzB;AACAH,KAAK,CAACI,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAGA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,MAAM,EAAE,IADJ;AAEJC,MAAAA,QAAQ,EAAE,IAFN;AAGJC,MAAAA,IAAI,EAAC;AAHD,KAF0B;AAAA;;AAQlCC,EAAAA,iBAAiB,GAAE;AACfZ,IAAAA,KAAK,CAACa,GAAN,CAAU,aAAV,EAAyBC,IAAzB,CAA8BC,GAAG,IAAI;AACjC,WAAKC,QAAL,CAAc;AACVL,QAAAA,IAAI,EAAEI,GAAG,CAACE,IAAJ,CAASN,IADL;AAEVD,QAAAA,QAAQ,EAAEK,GAAG,CAACE,IAAJ,CAASP,QAFT;AAGVD,QAAAA,MAAM,EAAEM,GAAG,CAACE,IAAJ,CAASR;AAHP,OAAd;AAKAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAjB;AACH,KAPD;AAQH;;AAGDY,EAAAA,MAAM,GAAE;AAEJ,UAAMC,YAAY,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBd,QAA7C;AACA,WACI;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKF,KAAL,CAAWE,QAAX,IAAuB,KAAKF,KAAL,CAAWE,QAAX,IAAuBW,YAA9C,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAE,gBAAgB,KAAKb,KAAL,CAAWE,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,GAAG,EAAER,GAAG,GAAG,GAAN,GAAYC,IAAZ,GAAmB,UAAnB,GAAgC,KAAKK,KAAL,CAAWC,MAA3C,GAAoD,MAA9D;AAAsE,MAAA,GAAG,EAAC,EAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,EAIK,KAAKD,KAAL,CAAWE,QAJhB,CADA,GAMO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAWW,YAAX,oBAAsC,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAtC,MARf,CADJ;AAcH;;AArCiC;;AAwCtC,eAAef,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url, port} from '../url'\naxios.defaults.withCredentials = true;\n\n\nclass UserPage extends React.Component{\n\n    state = {\n        avatar: null,\n        username: null,\n        code:''\n    }\n\n    componentDidMount(){ \n        axios.get('/getsession').then(res => {\n            this.setState({\n                code: res.data.code,\n                username: res.data.username,\n                avatar: res.data.avatar\n            })\n            console.log(this.state);\n        })\n    }\n\n\n    render(){\n\n        const url_username = this.props.match.params.username;\n        return (\n            <div className=\"user-container container\">\n                {\n                    this.state.username && this.state.username == url_username? \n                    <div> \n                        <NavLink to={\"/setavatar/\" + this.state.username}>\n                        <img src={url + ':' + port + \"/avatar/\" + this.state.avatar + '.jpg'} alt=\"\"/>\n                        </NavLink>\n                        {this.state.username}\n                    </div>:<h1>Sorry {url_username}, you need to <NavLink to=\"/signin\">sign in</NavLink>.</h1>\n                }\n               \n            </div>\n        )\n    }\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}