{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{NavLink}from'react-router-dom';import{url}from'../url';axios.defaults.withCredentials=true;var UserPage=/*#__PURE__*/function(_React$Component){_inherits(UserPage,_React$Component);function UserPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,UserPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UserPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={avatar:null,username:null,code:''};return _this;}_createClass(UserPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(url+'/getsession').then(function(res){_this2.setState({code:res.data.code,username:res.data.username,avatar:res.data.avatar});console.log(_this2.state);});}},{key:\"render\",value:function render(){var url_username=this.props.match.params.username;return React.createElement(\"div\",{className:\"user-container container\"},this.state.username&&this.state.username==url_username?React.createElement(\"div\",null,React.createElement(NavLink,{to:\"/setavatar/\"+this.state.username},React.createElement(\"img\",{src:url+\"/avatar/\"+this.state.avatar+'.jpg',alt:\"\"})),this.state.username):React.createElement(\"h1\",null,\"Sorry \",url_username,\", you need to \",React.createElement(NavLink,{to:\"/signin\"},\"sign in\"),\".\"));}}]);return UserPage;}(React.Component);export default UserPage;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js"],"names":["React","axios","NavLink","url","defaults","withCredentials","UserPage","state","avatar","username","code","get","then","res","setState","data","console","log","url_username","props","match","params","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,GAAT,KAAoB,QAApB,CACAF,KAAK,CAACG,QAAN,CAAeC,eAAf,CAAiC,IAAjC,C,GAGMC,CAAAA,Q,mZAEFC,K,CAAQ,CACJC,MAAM,CAAE,IADJ,CAEJC,QAAQ,CAAE,IAFN,CAGJC,IAAI,CAAC,EAHD,C,iGAMW,iBACfT,KAAK,CAACU,GAAN,CAAUR,GAAG,CAAG,aAAhB,EAA+BS,IAA/B,CAAoC,SAAAC,GAAG,CAAI,CACvC,MAAI,CAACC,QAAL,CAAc,CACVJ,IAAI,CAAEG,GAAG,CAACE,IAAJ,CAASL,IADL,CAEVD,QAAQ,CAAEI,GAAG,CAACE,IAAJ,CAASN,QAFT,CAGVD,MAAM,CAAEK,GAAG,CAACE,IAAJ,CAASP,MAHP,CAAd,EAKAQ,OAAO,CAACC,GAAR,CAAY,MAAI,CAACV,KAAjB,EACH,CAPD,EAQH,C,uCAGO,CAEJ,GAAMW,CAAAA,YAAY,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBZ,QAA7C,CACA,MACI,4BAAK,SAAS,CAAC,0BAAf,EAEQ,KAAKF,KAAL,CAAWE,QAAX,EAAuB,KAAKF,KAAL,CAAWE,QAAX,EAAuBS,YAA9C,CACA,+BACI,oBAAC,OAAD,EAAS,EAAE,CAAE,cAAgB,KAAKX,KAAL,CAAWE,QAAxC,EACA,2BAAK,GAAG,CAAEN,GAAG,CAAG,UAAN,CAAmB,KAAKI,KAAL,CAAWC,MAA9B,CAAuC,MAAjD,CAAyD,GAAG,CAAC,EAA7D,EADA,CADJ,CAIK,KAAKD,KAAL,CAAWE,QAJhB,CADA,CAMO,uCAAWS,YAAX,kBAAsC,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,YAAtC,KARf,CADJ,CAcH,C,sBArCkBlB,KAAK,CAACsB,S,EAwC7B,cAAehB,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url'\naxios.defaults.withCredentials = true;\n\n\nclass UserPage extends React.Component{\n\n    state = {\n        avatar: null,\n        username: null,\n        code:''\n    }\n\n    componentDidMount(){ \n        axios.get(url + '/getsession').then(res => {\n            this.setState({\n                code: res.data.code,\n                username: res.data.username,\n                avatar: res.data.avatar\n            })\n            console.log(this.state);\n        })\n    }\n\n\n    render(){\n\n        const url_username = this.props.match.params.username;\n        return (\n            <div className=\"user-container container\">\n                {\n                    this.state.username && this.state.username == url_username? \n                    <div> \n                        <NavLink to={\"/setavatar/\" + this.state.username}>\n                        <img src={url + \"/avatar/\" + this.state.avatar + '.jpg'} alt=\"\"/>\n                        </NavLink>\n                        {this.state.username}\n                    </div>:<h1>Sorry {url_username}, you need to <NavLink to=\"/signin\">sign in</NavLink>.</h1>\n                }\n               \n            </div>\n        )\n    }\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}