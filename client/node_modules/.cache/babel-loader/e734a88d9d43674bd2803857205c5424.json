{"ast":null,"code":"import _defineProperty from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import{url,port}from'../url';import bg from'./signup-bg.jpg';axios.defaults.withCredentials=true;var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);function SignUp(){var _getPrototypeOf2;var _this;_classCallCheck(this,SignUp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SignUp)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',password:'',code:''};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var user={username:_this.state.username,password:_this.state.password};//console.log(user);\naxios.post('/doregister',user).then(function(res){//console.log(res.data);\n_this.setState({code:res.data},function(){if(res.data==='1'){alert(\"Welcome onboard, \"+this.state.username+\"!\");}});});};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){var code=this.state.code;if(code=='1'){window.location='/';}return React.createElement(\"div\",{className:\"signup-container\"},React.createElement(\"div\",{className:\"image-section\"},React.createElement(\"img\",{src:bg,alt:\"\"})),React.createElement(\"div\",{className:\"create-account\"},React.createElement(\"h1\",null,\"Create an account\"),React.createElement(\"h3\",null,\"It's easy and fast.\"),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",onChange:this.handleChange,placeholder:\"Username\",required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",onChange:this.handleChange,placeholder:\"Password\",required:true})),React.createElement(\"p\",null,\"By clicking Sign Up, you agree to our \",React.createElement(\"a\",null,\"Terms\"),\", \",React.createElement(\"a\",null,\"Data Policy\"),\" and \",React.createElement(\"a\",null,\"Cookie Policy\"),\". You may receive SMS notifications from us and can opt out at any time.\"),this.state.code==\"-1\"?React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"Username has been taken!\"):null,React.createElement(\"button\",{type:\"submit\",className:\"signup-btn\"},\"Sign Up\"))));}}]);return SignUp;}(React.Component);export default SignUp;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/SignUp.js"],"names":["React","axios","url","port","bg","defaults","withCredentials","SignUp","state","username","password","code","handleChange","e","setState","target","id","value","handleSubmit","preventDefault","user","post","then","res","data","alert","window","location","Component"],"mappings":"8vBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,CAAcC,IAAd,KAA0B,QAA1B,CACA,MAAQC,CAAAA,EAAR,KAAiB,iBAAjB,CACAH,KAAK,CAACI,QAAN,CAAeC,eAAf,CAAiC,IAAjC,C,GAEMC,CAAAA,M,2YAEFC,K,CAAQ,CACJC,QAAQ,CAAC,EADL,CAEJC,QAAQ,CAAC,EAFL,CAGJC,IAAI,CAAC,EAHD,C,OAMRC,Y,CAAe,SAACC,CAAD,CAAO,CAClB,MAAKC,QAAL,oBACKD,CAAC,CAACE,MAAF,CAASC,EADd,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GAGH,C,OAEDC,Y,CAAe,SAACL,CAAD,CAAO,CAClBA,CAAC,CAACM,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CACTX,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QADZ,CAETC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAFZ,CAAb,CAIA;AACAT,KAAK,CAACoB,IAAN,CAAW,aAAX,CAAyBD,IAAzB,EAA+BE,IAA/B,CAAoC,SAAAC,GAAG,CAAI,CACvC;AACI,MAAKT,QAAL,CAAc,CACVH,IAAI,CAAEY,GAAG,CAACC,IADA,CAAd,CAEG,UAAU,CACT,GAAGD,GAAG,CAACC,IAAJ,GAAa,GAAhB,CAAoB,CAChBC,KAAK,CAAC,oBAAsB,KAAKjB,KAAL,CAAWC,QAAjC,CAA4C,GAA7C,CAAL,CACH,CACJ,CAND,EAQP,CAVD,EAYH,C,yEAEO,CACJ,GAAME,CAAAA,IAAI,CAAG,KAAKH,KAAL,CAAWG,IAAxB,CAEA,GAAGA,IAAI,EAAI,GAAX,CAAe,CACXe,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACH,CACD,MACI,4BAAK,SAAS,CAAC,kBAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACI,2BAAK,GAAG,CAAEvB,EAAV,CAAc,GAAG,CAAC,EAAlB,EADJ,CADJ,CAII,2BAAK,SAAS,CAAC,gBAAf,EACA,kDADA,CAEA,oDAFA,CAGA,4BAAM,QAAQ,CAAE,KAAKc,YAArB,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,IAAI,CAAC,MAAZ,CACO,SAAS,CAAC,cADjB,CAEO,EAAE,CAAC,UAFV,CAGO,QAAQ,CAAE,KAAKN,YAHtB,CAIO,WAAW,CAAC,UAJnB,CAI8B,QAAQ,KAJtC,EADJ,CADJ,CAQI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,IAAI,CAAC,UAAZ,CACO,SAAS,CAAC,cADjB,CAEO,EAAE,CAAC,UAFV,CAGO,QAAQ,CAAE,KAAKA,YAHtB,CAIO,WAAW,CAAC,UAJnB,CAI8B,QAAQ,KAJtC,EADJ,CARJ,CAeG,sEACsC,qCADtC,MACoD,2CADpD,SAC2E,6CAD3E,4EAfH,CAmBQ,KAAKJ,KAAL,CAAWG,IAAX,EAAmB,IAAnB,CACA,2BAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,6BADA,CACiF,IApBzF,CAsBI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,YAAhC,YAtBJ,CAHA,CAJJ,CADJ,CAoCH,C,oBA7EgBX,KAAK,CAAC4B,S,EAgF3B,cAAerB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { url, port } from '../url'\nimport  bg  from './signup-bg.jpg'\naxios.defaults.withCredentials = true;\n\nclass SignUp extends React.Component{\n\n    state = {\n        username:'',\n        password:'',\n        code:''\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const user = {\n            username: this.state.username,\n            password: this.state.password\n        }\n        //console.log(user);\n        axios.post('/doregister',user).then(res => {\n            //console.log(res.data);\n                this.setState({\n                    code: res.data\n                }, function(){\n                    if(res.data === '1'){\n                        alert(\"Welcome onboard, \" + this.state.username + \"!\")\n                    }\n                })\n            \n        }); \n        \n    }\n\n    render(){\n        const code = this.state.code;\n        \n        if(code == '1'){\n            window.location = '/'\n        } \n        return (\n            <div className=\"signup-container\">\n                <div className=\"image-section\">\n                    <img src={bg} alt=\"\"/>\n                </div>\n                <div className=\"create-account\">\n                <h1>Create an account</h1>\n                <h3>It's easy and fast.</h3>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-group\">\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               id=\"username\" \n                               onChange={this.handleChange}\n                               placeholder=\"Username\" required/>\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"password\" \n                               className=\"form-control\" \n                               id=\"password\" \n                               onChange={this.handleChange}\n                               placeholder=\"Password\" required/>\n                    </div>\n                   <p>\n                   By clicking Sign Up, you agree to our <a>Terms</a>, <a>Data Policy</a> and <a>Cookie Policy</a>. You may receive SMS notifications from us and can opt out at any time.\n                   </p>\n                    {\n                        this.state.code == \"-1\"?\n                        <div className=\"alert alert-danger\" role=\"alert\">Username has been taken!</div>: null\n                    }\n                    <button type=\"submit\" className=\"signup-btn\">Sign Up</button>\n                </form>\n                </div>\n                \n            </div>\n        )\n    }\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}