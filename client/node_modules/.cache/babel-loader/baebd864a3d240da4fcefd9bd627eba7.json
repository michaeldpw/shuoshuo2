{"ast":null,"code":"var _jsxFileName = \"/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url';\naxios.defaults.withCredentials = true;\n\nclass UserPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avatar: null,\n      username: null,\n      code: '',\n      loading: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    }, () => {\n      axios.get(url + '/getsession').then(res => {\n        this.setState({\n          code: res.data.code,\n          username: res.data.username,\n          avatar: res.data.avatar\n        });\n      });\n    });\n  }\n\n  render() {\n    const url_username = this.props.match.params.username;\n    return React.createElement(\"div\", {\n      className: \"user-container container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, this.state.username && this.state.username == url_username ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/setavatar/\" + this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: url + \"/avatar/\" + this.state.avatar + '.jpg',\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })), this.state.username) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Sorry \", url_username, \", you need to \", React.createElement(NavLink, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"sign in\"), \".\"));\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js"],"names":["React","axios","NavLink","url","defaults","withCredentials","UserPage","Component","state","avatar","username","code","loading","componentDidMount","setState","get","then","res","data","render","url_username","props","match","params"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,GAAT,QAAoB,QAApB;AACAF,KAAK,CAACG,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAGA,MAAMC,QAAN,SAAuBN,KAAK,CAACO,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,MAAM,EAAE,IADJ;AAEJC,MAAAA,QAAQ,EAAE,IAFN;AAGJC,MAAAA,IAAI,EAAC,EAHD;AAIJC,MAAAA,OAAO,EAAE;AAJL,KAF0B;AAAA;;AASlCC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL,CAAc;AAACF,MAAAA,OAAO,EAAE;AAAV,KAAd,EAA+B,MAAM;AACjCX,MAAAA,KAAK,CAACc,GAAN,CAAUZ,GAAG,GAAG,aAAhB,EAA+Ba,IAA/B,CAAoCC,GAAG,IAAI;AACvC,aAAKH,QAAL,CAAc;AACVH,UAAAA,IAAI,EAAEM,GAAG,CAACC,IAAJ,CAASP,IADL;AAEVD,UAAAA,QAAQ,EAAEO,GAAG,CAACC,IAAJ,CAASR,QAFT;AAGVD,UAAAA,MAAM,EAAEQ,GAAG,CAACC,IAAJ,CAAST;AAHP,SAAd;AAKH,OAND;AAOH,KARD;AAUH;;AAGDU,EAAAA,MAAM,GAAE;AAEJ,UAAMC,YAAY,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBb,QAA7C;AACA,WACI;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKF,KAAL,CAAWE,QAAX,IAAuB,KAAKF,KAAL,CAAWE,QAAX,IAAuBU,YAA9C,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAE,gBAAgB,KAAKZ,KAAL,CAAWE,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,GAAG,EAAEP,GAAG,GAAG,UAAN,GAAmB,KAAKK,KAAL,CAAWC,MAA9B,GAAuC,MAAjD;AAAyD,MAAA,GAAG,EAAC,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,EAIK,KAAKD,KAAL,CAAWE,QAJhB,CADA,GAMO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAWU,YAAX,oBAAsC,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAtC,MARf,CADJ;AAcH;;AAxCiC;;AA2CtC,eAAed,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url'\naxios.defaults.withCredentials = true;\n\n\nclass UserPage extends React.Component{\n\n    state = {\n        avatar: null,\n        username: null,\n        code:'',\n        loading: ''\n    }\n\n    componentDidMount(){ \n        this.setState({loading: true}, () => {\n            axios.get(url + '/getsession').then(res => {\n                this.setState({\n                    code: res.data.code,\n                    username: res.data.username,\n                    avatar: res.data.avatar\n                })\n            })\n        })\n       \n    }\n\n\n    render(){\n\n        const url_username = this.props.match.params.username;\n        return (\n            <div className=\"user-container container\">\n                {\n                    this.state.username && this.state.username == url_username? \n                    <div> \n                        <NavLink to={\"/setavatar/\" + this.state.username}>\n                        <img src={url + \"/avatar/\" + this.state.avatar + '.jpg'} alt=\"\"/>\n                        </NavLink>\n                        {this.state.username}\n                    </div>:<h1>Sorry {url_username}, you need to <NavLink to=\"/signin\">sign in</NavLink>.</h1>\n                }\n               \n            </div>\n        )\n    }\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}