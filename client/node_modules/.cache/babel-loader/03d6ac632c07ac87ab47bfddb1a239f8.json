{"ast":null,"code":"export function base64StringtoFile(base64String,filename){var arr=base64String.split(','),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);}return new File([u8arr],filename,{type:mime});}export function downloadBase64File(base64Data,filename){var element=document.createElement('a');element.setAttribute('href',base64Data);element.setAttribute('download',filename);element.style.display='none';document.body.appendChild(element);element.click();document.body.removeChild(element);}// Extract an Base64 Image's File Extension\nexport function extractImageFileExtensionFromBase64(base64Data){return base64Data.substring('data:image/'.length,base64Data.indexOf(';base64'));}// Base64 Image to Canvas with a Crop\nexport function image64toCanvasRef(canvasRef,image64,crop){var canvas=canvasRef;// document.createElement('canvas');\ncanvas.width=crop.width;canvas.height=crop.height;var ctx=canvas.getContext('2d');var image=new Image();image.src=image64;image.onload=function(){ctx.drawImage(image,crop.x,crop.y,crop.width,crop.height,0,0,crop.width,crop.height);};}","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/base64.js"],"names":["base64StringtoFile","base64String","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","downloadBase64File","base64Data","element","document","createElement","setAttribute","style","display","body","appendChild","click","removeChild","extractImageFileExtensionFromBase64","substring","indexOf","image64toCanvasRef","canvasRef","image64","crop","canvas","width","height","ctx","getContext","image","Image","src","onload","drawImage","x","y"],"mappings":"AAAA,MAAO,SAASA,CAAAA,kBAAT,CAA4BC,YAA5B,CAA0CC,QAA1C,CAAoD,CACvD,GAAIC,CAAAA,GAAG,CAAGF,YAAY,CAACG,KAAb,CAAmB,GAAnB,CAAV,CAAmCC,IAAI,CAAGF,GAAG,CAAC,CAAD,CAAH,CAAOG,KAAP,CAAa,SAAb,EAAwB,CAAxB,CAA1C,CACIC,IAAI,CAAGC,IAAI,CAACL,GAAG,CAAC,CAAD,CAAJ,CADf,CACyBM,CAAC,CAAGF,IAAI,CAACG,MADlC,CAC0CC,KAAK,CAAG,GAAIC,CAAAA,UAAJ,CAAeH,CAAf,CADlD,CAEA,MAAMA,CAAC,EAAP,CAAU,CACNE,KAAK,CAACF,CAAD,CAAL,CAAWF,IAAI,CAACM,UAAL,CAAgBJ,CAAhB,CAAX,CACH,CACD,MAAO,IAAIK,CAAAA,IAAJ,CAAS,CAACH,KAAD,CAAT,CAAkBT,QAAlB,CAA4B,CAACa,IAAI,CAACV,IAAN,CAA5B,CAAP,CACH,CAED,MAAO,SAASW,CAAAA,kBAAT,CAA6BC,UAA7B,CAAyCf,QAAzC,CAAmD,CACtD,GAAIgB,CAAAA,OAAO,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAd,CACAF,OAAO,CAACG,YAAR,CAAqB,MAArB,CAA6BJ,UAA7B,EACAC,OAAO,CAACG,YAAR,CAAqB,UAArB,CAAiCnB,QAAjC,EACAgB,OAAO,CAACI,KAAR,CAAcC,OAAd,CAAwB,MAAxB,CACAJ,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,OAA1B,EACAA,OAAO,CAACQ,KAAR,GACAP,QAAQ,CAACK,IAAT,CAAcG,WAAd,CAA0BT,OAA1B,EACD,CAED;AACA,MAAO,SAASU,CAAAA,mCAAT,CAA8CX,UAA9C,CAA0D,CAC/D,MAAOA,CAAAA,UAAU,CAACY,SAAX,CAAqB,cAAcnB,MAAnC,CAA2CO,UAAU,CAACa,OAAX,CAAmB,SAAnB,CAA3C,CAAP,CACD,CAED;AACA,MAAO,SAASC,CAAAA,kBAAT,CAA6BC,SAA7B,CAAwCC,OAAxC,CAAiDC,IAAjD,CAAuD,CAC5D,GAAMC,CAAAA,MAAM,CAAGH,SAAf,CAAyB;AACzBG,MAAM,CAACC,KAAP,CAAeF,IAAI,CAACE,KAApB,CACAD,MAAM,CAACE,MAAP,CAAgBH,IAAI,CAACG,MAArB,CACA,GAAMC,CAAAA,GAAG,CAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAZ,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,EAAd,CACAD,KAAK,CAACE,GAAN,CAAYT,OAAZ,CACAO,KAAK,CAACG,MAAN,CAAe,UAAY,CACzBL,GAAG,CAACM,SAAJ,CACEJ,KADF,CAEEN,IAAI,CAACW,CAFP,CAGEX,IAAI,CAACY,CAHP,CAIEZ,IAAI,CAACE,KAJP,CAKEF,IAAI,CAACG,MALP,CAME,CANF,CAOE,CAPF,CAQEH,IAAI,CAACE,KARP,CASEF,IAAI,CAACG,MATP,EAWD,CAZD,CAaD","sourcesContent":["export function base64StringtoFile(base64String, filename) {\n    var arr = base64String.split(','), mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n    while(n--){\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([u8arr], filename, {type:mime});\n}\n\nexport function downloadBase64File (base64Data, filename) {\n    var element = document.createElement('a')\n    element.setAttribute('href', base64Data)\n    element.setAttribute('download', filename)\n    element.style.display = 'none'\n    document.body.appendChild(element)\n    element.click()\n    document.body.removeChild(element)\n  }\n  \n  // Extract an Base64 Image's File Extension\n  export function extractImageFileExtensionFromBase64 (base64Data) {\n    return base64Data.substring('data:image/'.length, base64Data.indexOf(';base64'))\n  }\n  \n  // Base64 Image to Canvas with a Crop\n  export function image64toCanvasRef (canvasRef, image64, crop) {\n    const canvas = canvasRef // document.createElement('canvas');\n    canvas.width = crop.width\n    canvas.height = crop.height\n    const ctx = canvas.getContext('2d')\n    const image = new Image()\n    image.src = image64\n    image.onload = function () {\n      ctx.drawImage(\n        image,\n        crop.x,\n        crop.y,\n        crop.width,\n        crop.height,\n        0,\n        0,\n        crop.width,\n        crop.height        \n      )\n    }\n  }\n  "]},"metadata":{},"sourceType":"module"}