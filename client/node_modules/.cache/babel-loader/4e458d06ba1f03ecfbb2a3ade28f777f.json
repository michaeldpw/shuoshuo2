{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{NavLink,withRouter}from'react-router-dom';import axios from'axios';import'./components.css';import brand from'./brand.jpg';axios.defaults.withCredentials=true;var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);function Navbar(){var _getPrototypeOf2;var _this;_classCallCheck(this,Navbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Navbar)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',link:'',logout:0};_this.handleLogOut=function(){axios.get('/logout').then(function(res){_this.setState({logout:res.data.logout});});};return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/getsession').then(function(res){console.log(res.data);_this2.setState({username:res.data.username,link:res.data.username});});}},{key:\"render\",value:function render(){// var isActive = this.props.location.pathname == this.props.to\n// var className = isActive ? 'active' : '';\nvar logout=this.state.logout;if(logout=='1'){window.location='/';}return React.createElement(\"nav\",{className:\"navbar navbar-default navbar-fixed-top\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"navbar-header\"},React.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},React.createElement(\"img\",{alt:\"Brand\",src:brand}))),React.createElement(\"div\",{className:\"navbar-collapse collapse\"},React.createElement(\"ul\",{className:\"nav navbar-nav navbar-item\"},React.createElement(\"li\",{className:\"hvr-underline-from-center\"},React.createElement(NavLink,{to:\"/\"},\"Posts\")),React.createElement(\"li\",{className:\"hvr-underline-from-center\"},React.createElement(NavLink,{to:\"/mypost\"},\"My Posts\")),React.createElement(\"li\",{className:\"hvr-underline-from-center\"},React.createElement(NavLink,{to:\"/members\"},\"Team Members\"))),this.state.username?React.createElement(\"ul\",{className:\"nav navbar-nav navbar-right\"},React.createElement(\"li\",null,\" \",React.createElement(\"a\",null,\"Welcome, \",this.state.username)),React.createElement(\"li\",{className:\"hvr-underline-from-center\"},\" \",React.createElement(NavLink,{to:\"/user/\"+this.state.link},\"Profile\")),React.createElement(\"li\",{className:\"hvr-underline-from-center\"},React.createElement(\"a\",{onClick:this.handleLogOut},\"Log Out\"))):React.createElement(\"ul\",{className:\"nav navbar-nav navbar-right\"},React.createElement(\"li\",{className:\"hvr-underline-from-center\"},\" \",React.createElement(NavLink,{to:\"/signin\"},\"Log In\")),React.createElement(\"li\",{className:\"hvr-underline-from-center\"},\" \",React.createElement(NavLink,{to:\"/signup\"},\"Create New Account\"))))));}}]);return Navbar;}(React.Component);export default withRouter(Navbar);","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/Navbar.js"],"names":["React","NavLink","withRouter","axios","brand","defaults","withCredentials","Navbar","state","username","link","logout","handleLogOut","get","then","res","setState","data","console","log","window","location","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,CAAkBC,UAAlB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACAD,KAAK,CAACE,QAAN,CAAeC,eAAf,CAAiC,IAAjC,C,GAEMC,CAAAA,M,2YAEFC,K,CAAQ,CACJC,QAAQ,CAAC,EADL,CAEJC,IAAI,CAAC,EAFD,CAGJC,MAAM,CAAE,CAHJ,C,OAkBRC,Y,CAAe,UAAM,CACjBT,KAAK,CAACU,GAAN,CAAU,SAAV,EAAqBC,IAArB,CAA0B,SAAAC,GAAG,CAAI,CAC7B,MAAKC,QAAL,CAAc,CACVL,MAAM,CAACI,GAAG,CAACE,IAAJ,CAASN,MADN,CAAd,EAGH,CAJD,EAKH,C,+FAlBkB,iBAEfR,KAAK,CAACU,GAAN,CAAU,aAAV,EAAyBC,IAAzB,CAA8B,SAAAC,GAAG,CAAI,CACjCG,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB,EACA,MAAI,CAACD,QAAL,CAAc,CACVP,QAAQ,CAAEM,GAAG,CAACE,IAAJ,CAASR,QADT,CAEVC,IAAI,CAAEK,GAAG,CAACE,IAAJ,CAASR,QAFL,CAAd,EAKH,CAPD,EAQH,C,uCAUO,CAEJ;AACA;AAEA,GAAME,CAAAA,MAAM,CAAG,KAAKH,KAAL,CAAWG,MAA1B,CACA,GAAGA,MAAM,EAAI,GAAb,CAAiB,CACfS,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACD,CAED,MACI,4BAAK,SAAS,CAAC,wCAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACI,yBAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAC,GAAjC,EACI,2BAAK,GAAG,CAAC,OAAT,CAAiB,GAAG,CAAEjB,KAAtB,EADJ,CADJ,CADJ,CAMI,2BAAK,SAAS,CAAC,0BAAf,EACI,0BAAI,SAAS,CAAC,4BAAd,EACI,0BAAI,SAAS,CAAC,2BAAd,EAA0C,oBAAC,OAAD,EAAS,EAAE,CAAC,GAAZ,UAA1C,CADJ,CAEI,0BAAI,SAAS,CAAC,2BAAd,EAA0C,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,aAA1C,CAFJ,CAGI,0BAAI,SAAS,CAAC,2BAAd,EAA0C,oBAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,iBAA1C,CAHJ,CADJ,CAOQ,KAAKI,KAAL,CAAWC,QAAX,CACA,0BAAI,SAAS,CAAC,6BAAd,EACI,kCAAK,yCAAa,KAAKD,KAAL,CAAWC,QAAxB,CAAL,CADJ,CAEI,0BAAI,SAAS,CAAC,2BAAd,MAA2C,oBAAC,OAAD,EAAS,EAAE,CAAE,SAAW,KAAKD,KAAL,CAAWE,IAAnC,YAA3C,CAFJ,CAGI,0BAAI,SAAS,CAAC,2BAAd,EAA0C,yBAAG,OAAO,CAAE,KAAKE,YAAjB,YAA1C,CAHJ,CADA,CAMA,0BAAI,SAAS,CAAC,6BAAd,EACI,0BAAI,SAAS,CAAC,2BAAd,MAA2C,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,WAA3C,CADJ,CAEI,0BAAI,SAAS,CAAC,2BAAd,MAA2C,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,uBAA3C,CAFJ,CAbR,CANJ,CADJ,CADJ,CA8BH,C,oBApEgBZ,KAAK,CAACsB,S,EAuE3B,cAAepB,CAAAA,UAAU,CAACK,MAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport './components.css';\nimport brand from './brand.jpg'\naxios.defaults.withCredentials = true;\n\nclass Navbar extends React.Component{\n\n    state = {\n        username:'',\n        link:'',\n        logout: 0\n    }\n\n    componentDidMount(){\n\n        axios.get('/getsession').then(res => {\n            console.log(res.data);\n            this.setState({\n                username: res.data.username,\n                link: res.data.username\n            })\n            \n        })\n    }\n\n    handleLogOut = () => {\n        axios.get('/logout').then(res => {\n            this.setState({\n                logout:res.data.logout\n            })\n        })\n    }\n\n    render(){\n    \n        // var isActive = this.props.location.pathname == this.props.to\n        // var className = isActive ? 'active' : '';\n        \n        const logout = this.state.logout;\n        if(logout == '1'){\n          window.location = '/'\n        } \n        \n        return (\n            <nav className=\"navbar navbar-default navbar-fixed-top\">\n                <div className=\"container\">\n                    <div className=\"navbar-header\">\n                        <a className=\"navbar-brand\" href=\"#\">\n                            <img alt=\"Brand\" src={brand}/>\n                        </a>\n                    </div>\n                    <div className=\"navbar-collapse collapse\">\n                        <ul className=\"nav navbar-nav navbar-item\">\n                            <li className=\"hvr-underline-from-center\"><NavLink to=\"/\">Posts</NavLink></li>\n                            <li className=\"hvr-underline-from-center\"><NavLink to=\"/mypost\">My Posts</NavLink></li>\n                            <li className=\"hvr-underline-from-center\"><NavLink to=\"/members\">Team Members</NavLink></li>                \n                        </ul> \n                        {\n                            this.state.username? \n                            <ul className=\"nav navbar-nav navbar-right\">\n                                <li> <a>Welcome, {this.state.username}</a></li>\n                                <li className=\"hvr-underline-from-center\"> <NavLink to={\"/user/\" + this.state.link}>Profile</NavLink></li>\n                                <li className=\"hvr-underline-from-center\"><a onClick={this.handleLogOut}>Log Out</a></li>\n                            </ul>:\n                            <ul className=\"nav navbar-nav navbar-right\">\n                                <li className=\"hvr-underline-from-center\"> <NavLink to=\"/signin\">Log In</NavLink></li> \n                                <li className=\"hvr-underline-from-center\"> <NavLink to=\"/signup\">Create New Account</NavLink></li>\n                            </ul>\n                        }\n                    </div> \n                </div>\n            </nav>\n        )\n    }\n}\n\nexport default withRouter(Navbar);"]},"metadata":{},"sourceType":"module"}