{"ast":null,"code":"var _jsxFileName = \"/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url';\nimport Img from '../components/Img';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\naxios.defaults.withCredentials = true;\n\nclass UserPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avatar: null,\n      username: null,\n      code: '',\n      loading: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    }, () => {\n      axios.get(url + '/getsession').then(res => {\n        this.setState({\n          code: res.data.code,\n          username: res.data.username,\n          avatar: res.data.avatar,\n          loading: false\n        });\n      });\n    });\n  }\n\n  render() {\n    const url_username = this.props.match.params.username;\n    return React.createElement(\"div\", {\n      className: \"user-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(Loader, {\n      style: {\n        \"display\": \"flex\",\n        \"justify-content\": \"center\",\n        \"margin\": \"auto\"\n      },\n      type: \"ThreeDots\",\n      color: \"#e87110\",\n      height: \"100\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }) : this.state.username && this.state.username == url_username ? React.createElement(\"div\", {\n      className: \"user-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/setavatar/\" + this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Img, {\n      style: {\n        \"height\": \"100px\",\n        \"width\": \"100px\",\n        \"border-radius\": \"50px\"\n      },\n      src: url + \"/avatar/\" + this.state.username + '.jpg',\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.username)) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Sorry \", url_username, \", you need to \", React.createElement(NavLink, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"sign in\"), \".\"));\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/pages/UserPage.js"],"names":["React","axios","NavLink","url","Img","connect","Loader","defaults","withCredentials","UserPage","Component","state","avatar","username","code","loading","componentDidMount","setState","get","then","res","data","render","url_username","props","match","params"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { url } from '../url'\nimport Img from '../components/Img'\nimport { connect } from 'react-redux'\nimport Loader from 'react-loader-spinner'\naxios.defaults.withCredentials = true;\n\n\nclass UserPage extends React.Component{\n\n    state = {\n        avatar: null,\n        username: null,\n        code:'',\n        loading: ''\n    }\n\n    componentDidMount(){ \n        this.setState({loading: true}, () => {\n            axios.get(url + '/getsession').then(res => {\n                this.setState({\n                    code: res.data.code,\n                    username: res.data.username,\n                    avatar: res.data.avatar,\n                    loading: false\n                })\n            })\n        })\n       \n    }\n\n\n    render(){\n\n        const url_username = this.props.match.params.username;\n\n        return (\n            <div className=\"user-container\">\n                {\n                    this.state.loading?\n                    <Loader style={{\"display\": \"flex\", \"justify-content\": \"center\", \"margin\": \"auto\"}}\n                        type=\"ThreeDots\" \n                        color=\"#e87110\" \n                        height=\"100\" \n                        width=\"100\" />\n                    :\n                    (\n                     this.state.username && this.state.username == url_username? \n                        <div className=\"user-info\">\n                            <div className=\"user-avatar\">\n                            <NavLink to={\"/setavatar/\" + this.state.username}>\n                                <Img style={{\"height\": \"100px\", \"width\": \"100px\", \"border-radius\": \"50px\"}} \n                                        src={url + \"/avatar/\" + this.state.username + '.jpg'} \n                                        alt=\"\"/>\n                            </NavLink>\n                            </div>\n                            <p>{this.state.username}</p>\n                            \n                        </div>\n                        :\n                        <h1>Sorry {url_username}, you need to <NavLink to=\"/signin\">sign in</NavLink>.</h1>\n                    )\n                }\n                \n               \n            </div>\n        )\n    }\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}