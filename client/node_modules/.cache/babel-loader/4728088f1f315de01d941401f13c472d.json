{"ast":null,"code":"import _classCallCheck from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/peiwendu/Desktop/shuoshuo2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Img from'./Img';import{connect}from'react-redux';import{url}from'../url';import Axios from'axios';var CommentPanel=/*#__PURE__*/function(_React$Component){_inherits(CommentPanel,_React$Component);function CommentPanel(){var _getPrototypeOf2;var _this;_classCallCheck(this,CommentPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CommentPanel)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={comment:''};_this.handleInputChange=function(e){_this.setState({comment:e.target.value});};_this.handleSubmit=function(){var comment={_id:Date.now().toString(),pid:_this.props.pid,author:_this.props.auth.user,content:_this.state.comment,createdAt:new Date()};Axios.post(url+'/postcomment',comment).then(function(res){console.log(res.data);window.location.reload();});};return _this;}_createClass(CommentPanel,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"comment-panel\",style:{\"display\":this.props.isShown?'flex':'none'}},React.createElement(Img,{src:url+\"/avatar/\"+this.props.auth.user+'.jpg',alt:\"\",style:{\"height\":\"30px\",\"width\":\"30px\",\"border-radius\":\"15px\"}}),React.createElement(\"input\",{type:\"text\",onChange:this.handleInputChange,placeholder:\"Say something...\",required:true}),React.createElement(\"button\",{onClick:this.handleSubmit,disabled:!this.state.comment},\"Submit\"));}}]);return CommentPanel;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,null)(CommentPanel);","map":{"version":3,"sources":["/Users/peiwendu/Desktop/shuoshuo2.0/client/src/components/CommentPanel.js"],"names":["React","Img","connect","url","Axios","CommentPanel","state","comment","handleInputChange","e","setState","target","value","handleSubmit","_id","Date","now","toString","pid","props","author","auth","user","content","createdAt","post","then","res","console","log","data","window","location","reload","isShown","Component","mapStateToProps"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,GAAT,KAAoB,QAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAGMC,CAAAA,Y,maAEFC,K,CAAQ,CACJC,OAAO,CAAC,EADJ,C,OAIRC,iB,CAAoB,SAACC,CAAD,CAAO,CACvB,MAAKC,QAAL,CAAc,CACVH,OAAO,CAAEE,CAAC,CAACE,MAAF,CAASC,KADR,CAAd,EAGH,C,OAEDC,Y,CAAe,UAAM,CACjB,GAAMN,CAAAA,OAAO,CAAG,CACZO,GAAG,CAAEC,IAAI,CAACC,GAAL,GAAWC,QAAX,EADO,CAEZC,GAAG,CAAE,MAAKC,KAAL,CAAWD,GAFJ,CAGZE,MAAM,CAAE,MAAKD,KAAL,CAAWE,IAAX,CAAgBC,IAHZ,CAIZC,OAAO,CAAE,MAAKjB,KAAL,CAAWC,OAJR,CAKZiB,SAAS,CAAE,GAAIT,CAAAA,IAAJ,EALC,CAAhB,CAQAX,KAAK,CAACqB,IAAN,CAAWtB,GAAG,CAAG,cAAjB,CAAiCI,OAAjC,EAA0CmB,IAA1C,CAA+C,SAAAC,GAAG,CAAI,CAClDC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAHD,EAMH,C,+EAGO,CACJ,MACI,4BAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAE,CAAC,UAAY,KAAKd,KAAL,CAAWe,OAAX,CAAmB,MAAnB,CAA0B,MAAvC,CAAtC,EACI,oBAAC,GAAD,EAAK,GAAG,CAAE/B,GAAG,CAAG,UAAN,CAAmB,KAAKgB,KAAL,CAAWE,IAAX,CAAgBC,IAAnC,CAA0C,MAApD,CACI,GAAG,CAAC,EADR,CAEI,KAAK,CAAE,CAAC,SAAU,MAAX,CAAmB,QAAS,MAA5B,CAAoC,gBAAiB,MAArD,CAFX,EADJ,CAII,6BAAO,IAAI,CAAC,MAAZ,CACQ,QAAQ,CAAE,KAAKd,iBADvB,CAEQ,WAAW,CAAC,kBAFpB,CAEuC,QAAQ,KAF/C,EAJJ,CAOI,8BAAQ,OAAO,CAAE,KAAKK,YAAtB,CAAoC,QAAQ,CAAE,CAAC,KAAKP,KAAL,CAAWC,OAA1D,WAPJ,CADJ,CAWH,C,0BA1CsBP,KAAK,CAACmC,S,EAgDjC,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC9B,KAAD,CAAW,CAC3B,MAAO,CACHe,IAAI,CAAEf,KAAK,CAACe,IADT,CAAP,CAGH,CAJL,CAMA,cAAenB,CAAAA,OAAO,CAACkC,eAAD,CAAkB,IAAlB,CAAP,CAA+B/B,YAA/B,CAAf","sourcesContent":["import React from 'react'\nimport Img from './Img'\nimport { connect } from 'react-redux';\nimport { url } from '../url'\nimport Axios from 'axios';\n\n\nclass CommentPanel extends React.Component {\n\n    state = {\n        comment:''\n    }\n\n    handleInputChange = (e) => {\n        this.setState({\n            comment: e.target.value\n        })\n    }\n\n    handleSubmit = () => {\n        const comment = {\n            _id: Date.now().toString(),\n            pid: this.props.pid,\n            author: this.props.auth.user,\n            content: this.state.comment,\n            createdAt: new Date()\n        }\n\n        Axios.post(url + '/postcomment', comment).then(res => {\n            console.log(res.data);\n            window.location.reload();\n        })\n\n\n    }\n\n\n    render(){\n        return (\n            <div className=\"comment-panel\" style={{\"display\": (this.props.isShown?'flex':'none')}}  >\n                <Img src={url + \"/avatar/\" + this.props.auth.user + '.jpg'} \n                    alt=\"\"\n                    style={{\"height\": \"30px\", \"width\": \"30px\", \"border-radius\": \"15px\"}}/>\n                <input type=\"text\" \n                        onChange={this.handleInputChange} \n                        placeholder=\"Say something...\" required/>\n                <button onClick={this.handleSubmit} disabled={!this.state.comment}>Submit</button>\n            </div>\n        )\n    }\n\n\n    \n}\n\nconst mapStateToProps = (state) => {\n        return {\n            auth: state.auth\n        }\n    }\n\nexport default connect(mapStateToProps, null)(CommentPanel)"]},"metadata":{},"sourceType":"module"}